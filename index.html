<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProjectPro - Project Management Application</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Login/Signup Modal -->
        <div id="authModal" class="modal hidden">
            <div class="modal-backdrop" onclick="closeAuthModal()"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="authModalTitle">Login</h3>
                    <button class="modal-close" onclick="closeAuthModal()">×</button>
                </div>
                <div class="modal-body">
                    <form id="authForm">
                        <div class="form-group">
                            <label class="form-label" for="authEmail">Email</label>
                            <input type="email" id="authEmail" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="authPassword">Password</label>
                            <input type="password" id="authPassword" class="form-control" required>
                        </div>
                        <div id="signupFields" class="hidden">
                            <div class="form-group">
                                <label class="form-label" for="authName">Full Name</label>
                                <input type="text" id="authName" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="authRole">Role</label>
                                <select id="authRole" class="form-control">
                                    <option value="Viewer">Viewer</option>
                                    <option value="Moderator">Moderator</option>
                                    <option value="Admin">Admin</option>
                                    <option value="Super Admin">Super Admin</option>
                                </select>
                            </div>
                        </div>
                        <button type="submit" class="btn btn--primary btn--full-width">
                            <span id="authSubmitText">Login</span>
                        </button>
                    </form>
                    <div class="auth-switch">
                        <span id="authSwitchText">Don't have an account?</span>
                        <button type="button" id="authSwitchBtn" class="btn--link" onclick="toggleAuthMode()">Sign Up</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Application -->
        <div id="mainApp" class="hidden">
            <!-- Navigation -->
            <nav class="navbar">
                <div class="navbar-brand">
                    <i class="fas fa-project-diagram"></i>
                    <span>ProjectPro</span>
                </div>
                <div class="navbar-user">
                    <span id="currentUserName">Welcome</span>
                    <span id="currentUserRole" class="user-role"></span>
                    <button class="btn btn--secondary btn--sm" onclick="logout()">Logout</button>
                </div>
            </nav>

            <!-- Sidebar -->
            <div class="sidebar" id="sidebar">
                <ul class="nav-menu">
                    <li><a href="#" onclick="showDashboard()" class="nav-item active" id="nav-dashboard">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a></li>
                    <li><a href="#" onclick="showProjects()" class="nav-item" id="nav-projects">
                        <i class="fas fa-folder"></i> Projects
                    </a></li>
                    <li><a href="#" onclick="showTasks()" class="nav-item" id="nav-tasks">
                        <i class="fas fa-tasks"></i> Tasks
                    </a></li>
                    <li><a href="#" onclick="showResources()" class="nav-item" id="nav-resources">
                        <i class="fas fa-users"></i> Resources
                    </a></li>
                    <li><a href="#" onclick="showCustomFields()" class="nav-item" id="nav-custom-fields">
                        <i class="fas fa-cogs"></i> Custom Fields
                    </a></li>
                    <li><a href="#" onclick="showReports()" class="nav-item" id="nav-reports">
                        <i class="fas fa-chart-bar"></i> Reports
                    </a></li>
                    <li id="nav-users-li" class="hidden"><a href="#" onclick="showUsers()" class="nav-item" id="nav-users">
                        <i class="fas fa-user-friends"></i> User Management
                    </a></li>
                    <li><a href="#" onclick="showIntegrations()" class="nav-item" id="nav-integrations">
                        <i class="fas fa-plug"></i> Integrations
                    </a></li>
                </ul>
            </div>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Dashboard -->
                <div id="dashboard" class="page-content">
                    <div class="page-header">
                        <h1>Dashboard</h1>
                        <p class="page-description">Overview of your projects and tasks</p>
                    </div>
                    
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--color-bg-1)">
                                <i class="fas fa-folder" style="color: #3b82f6"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="totalProjects">15</h3>
                                <p>Total Projects</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--color-bg-3)">
                                <i class="fas fa-play-circle" style="color: #22c55e"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="activeProjects">8</h3>
                                <p>Active Projects</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--color-bg-2)">
                                <i class="fas fa-check-circle" style="color: #f59e0b"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="completedTasks">245</h3>
                                <p>Completed Tasks</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--color-bg-4)">
                                <i class="fas fa-clock" style="color: #ef4444"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="pendingTasks">67</h3>
                                <p>Pending Tasks</p>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-charts">
                        <div class="card">
                            <div class="card__body">
                                <h3>Project Progress</h3>
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="projectProgressChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card__body">
                                <h3>Budget Overview</h3>
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="budgetChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Projects -->
                <div id="projects" class="page-content hidden">
                    <div class="page-header">
                        <h1>Projects</h1>
                        <button class="btn btn--primary" onclick="openProjectModal()">
                            <i class="fas fa-plus"></i> New Project
                        </button>
                    </div>
                    <div class="projects-grid" id="projectsGrid">
                        <!-- Projects will be loaded here -->
                    </div>
                </div>

                <!-- Tasks -->
                <div id="tasks" class="page-content hidden">
                    <div class="page-header">
                        <h1>Tasks</h1>
                        <button class="btn btn--primary" onclick="openTaskModal()">
                            <i class="fas fa-plus"></i> New Task
                        </button>
                    </div>
                    <div class="tasks-container">
                        <div class="tasks-filters">
                            <select id="taskProjectFilter" class="form-control" style="width: 200px;" onchange="filterTasks()">
                                <option value="">All Projects</option>
                            </select>
                        </div>
                        <div class="tasks-list" id="tasksList">
                            <!-- Tasks will be loaded here -->
                        </div>
                    </div>
                </div>

                <!-- Resources -->
                <div id="resources" class="page-content hidden">
                    <div class="page-header">
                        <h1>Resources</h1>
                        <button class="btn btn--primary" onclick="openResourceModal()">
                            <i class="fas fa-plus"></i> New Resource
                        </button>
                    </div>
                    <div class="resources-grid" id="resourcesGrid">
                        <!-- Resources will be loaded here -->
                    </div>
                </div>

                <!-- Custom Fields -->
                <div id="customFields" class="page-content hidden">
                    <div class="page-header">
                        <h1>Custom Fields</h1>
                        <button class="btn btn--primary" onclick="openCustomFieldModal()">
                            <i class="fas fa-plus"></i> New Field
                        </button>
                    </div>
                    <div class="custom-fields-list" id="customFieldsList">
                        <!-- Custom fields will be loaded here -->
                    </div>
                </div>

                <!-- Reports -->
                <div id="reports" class="page-content hidden">
                    <div class="page-header">
                        <h1>Reports</h1>
                        <p class="page-description">Project analytics and insights</p>
                    </div>
                    <div class="reports-grid">
                        <div class="card">
                            <div class="card__body">
                                <h3>Team Utilization</h3>
                                <div class="chart-container" style="position: relative; height: 250px;">
                                    <canvas id="utilizationChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card__body">
                                <h3>Project Status Distribution</h3>
                                <div class="chart-container" style="position: relative; height: 250px;">
                                    <canvas id="statusChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- User Management -->
                <div id="users" class="page-content hidden">
                    <div class="page-header">
                        <h1>User Management</h1>
                        <button class="btn btn--primary" onclick="openUserModal()">
                            <i class="fas fa-user-plus"></i> Add User
                        </button>
                    </div>
                    <div class="users-table" id="usersTable">
                        <!-- Users will be loaded here -->
                    </div>
                </div>

                <!-- Integrations -->
                <div id="integrations" class="page-content hidden">
                    <div class="page-header">
                        <h1>Integrations</h1>
                        <p class="page-description">Connect with external tools</p>
                    </div>
                    <div class="integrations-grid">
                        <div class="card">
                            <div class="card__body">
                                <div class="integration-header">
                                    <i class="fab fa-jira" style="font-size: 2rem; color: #0052cc;"></i>
                                    <div>
                                        <h3>JIRA Integration</h3>
                                        <p>Sync tasks and issues with JIRA</p>
                                    </div>
                                    <div class="status" id="jiraStatus">
                                        <span class="status--error">Disconnected</span>
                                    </div>
                                </div>
                                <button class="btn btn--primary" onclick="openJiraModal()">Configure</button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Project Modal -->
        <div id="projectModal" class="modal hidden">
            <div class="modal-backdrop" onclick="closeProjectModal()"></div>
            <div class="modal-content modal-lg">
                <div class="modal-header">
                    <h3 id="projectModalTitle">Create Project</h3>
                    <button class="modal-close" onclick="closeProjectModal()">×</button>
                </div>
                <div class="modal-body">
                    <form id="projectForm">
                        <input type="hidden" id="projectId">
                        <div class="form-group">
                            <label class="form-label">Project Name</label>
                            <input type="text" id="projectName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Description</label>
                            <textarea id="projectDescription" class="form-control" rows="3"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Priority</label>
                                <select id="projectPriority" class="form-control">
                                    <option value="Low">Low</option>
                                    <option value="Medium">Medium</option>
                                    <option value="High">High</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Status</label>
                                <select id="projectStatus" class="form-control">
                                    <option value="Planning">Planning</option>
                                    <option value="In Progress">In Progress</option>
                                    <option value="On Hold">On Hold</option>
                                    <option value="Completed">Completed</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Start Date</label>
                                <input type="date" id="projectStartDate" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label">End Date</label>
                                <input type="date" id="projectEndDate" class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Budget</label>
                            <input type="number" id="projectBudget" class="form-control" step="1000">
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="btn btn--outline" onclick="closeProjectModal()">Cancel</button>
                            <button type="submit" class="btn btn--primary">Save Project</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Task Modal -->
        <div id="taskModal" class="modal hidden">
            <div class="modal-backdrop" onclick="closeTaskModal()"></div>
            <div class="modal-content modal-lg">
                <div class="modal-header">
                    <h3 id="taskModalTitle">Create Task</h3>
                    <button class="modal-close" onclick="closeTaskModal()">×</button>
                </div>
                <div class="modal-body">
                    <form id="taskForm">
                        <input type="hidden" id="taskId">
                        <div class="form-group">
                            <label class="form-label">Task Title</label>
                            <input type="text" id="taskTitle" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Description</label>
                            <textarea id="taskDescription" class="form-control" rows="3"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Project</label>
                                <select id="taskProject" class="form-control" required>
                                    <option value="">Select Project</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Assignee</label>
                                <select id="taskAssignee" class="form-control">
                                    <option value="">Select Assignee</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Priority</label>
                                <select id="taskPriority" class="form-control">
                                    <option value="Low">Low</option>
                                    <option value="Medium">Medium</option>
                                    <option value="High">High</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Status</label>
                                <select id="taskStatus" class="form-control">
                                    <option value="Not Started">Not Started</option>
                                    <option value="In Progress">In Progress</option>
                                    <option value="Completed">Completed</option>
                                    <option value="Blocked">Blocked</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Start Date</label>
                                <input type="date" id="taskStartDate" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label">End Date</label>
                                <input type="date" id="taskEndDate" class="form-control">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Estimated Hours</label>
                                <input type="number" id="taskEstimatedHours" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Actual Hours</label>
                                <input type="number" id="taskActualHours" class="form-control">
                            </div>
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="btn btn--outline" onclick="closeTaskModal()">Cancel</button>
                            <button type="submit" class="btn btn--primary">Save Task</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- JIRA Integration Modal -->
        <div id="jiraModal" class="modal hidden">
            <div class="modal-backdrop" onclick="closeJiraModal()"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>JIRA Integration Setup</h3>
                    <button class="modal-close" onclick="closeJiraModal()">×</button>
                </div>
                <div class="modal-body">
                    <form id="jiraForm">
                        <div class="form-group">
                            <label class="form-label">JIRA Server URL</label>
                            <input type="url" id="jiraServerUrl" class="form-control" placeholder="https://your-domain.atlassian.net">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Username/Email</label>
                            <input type="text" id="jiraUsername" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-label">API Token</label>
                            <input type="password" id="jiraApiToken" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Default Project Key</label>
                            <input type="text" id="jiraDefaultProject" class="form-control" placeholder="PROJ">
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="jiraSyncEnabled"> Enable Automatic Sync
                            </label>
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="btn btn--outline" onclick="closeJiraModal()">Cancel</button>
                            <button type="submit" class="btn btn--primary">Save Configuration</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>